import{h as c,b as s}from"./asyncUtils-b47bdec8.js";import{j as e}from"./Collection-e1ec52f9.js";import{m}from"./Loadable-8b974e55.js";import{t as u}from"./typedArrayUtil-bd69bba0.js";async function b(o,n){return await o.load(),d(o,n)}async function d(o,n){const l=[],i=(...t)=>{for(const r of t)u(r)||(Array.isArray(r)?i(...r):e.isCollection(r)?r.forEach(f=>i(f)):m.isLoadable(r)&&l.push(r))};n(i);let a=null;if(await c(l,async t=>{(await s(p(t)?t.loadAll():t.load())).ok!==!1||a||(a=t)}),a)throw a.loadError;return o}function p(o){return"loadAll"in o&&typeof o.loadAll=="function"}export{d as i,b as n};
